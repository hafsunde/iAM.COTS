% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/openmx_helpers.R
\name{combine_CI}
\alias{combine_CI}
\title{Combine an estimate matrix with an OpenMx confidence interval table}
\usage{
combine_CI(M, CI)
}
\arguments{
\item{M}{A numeric matrix of estimates (for example fit$est_PO$result).}

\item{CI}{A confidence interval table, typically a subset of
fit$output$confidenceIntervals, with rownames containing matrix indices in
the form "\verb{[i,j]}" and columns named "lbound" and "ubound".}
}
\value{
A data.frame with columns:
\itemize{
\item Row: row name (or row index if rownames are missing)
\item Col: column name (or column index if colnames are missing)
\item Estimate: the estimate for the cell
\item lbound: lower confidence bound (NA if not available)
\item ubound: upper confidence bound (NA if not available)
}
}
\description{
Reshapes a matrix of estimates into long format and merges it with confidence
interval bounds extracted from an OpenMx confidence interval object, matching
cells by matrix indices encoded in row names (e.g., "\verb{[i,j]}").
}
\details{
The function assumes the rownames of CI contain indices that can be parsed
from text like \verb{[i,j]} (for example \verb{[1,2]}). Internally it uses the
regex pattern \verb{.*\\[(\\d+),(\\d+)\\]} to extract i and j.
If this format differs, the extracted indices will be NA and the merge will
not populate bounds.

If rownames(M) or colnames(M) are NULL, they are replaced by character
versions of the corresponding indices (1..nrow, 1..ncol).
}
